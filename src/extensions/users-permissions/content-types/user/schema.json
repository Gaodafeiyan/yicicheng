{
  "collectionName": "up_users",
  "info": {
    "singularName": "user",
    "pluralName": "users",
    "displayName": "用户"
  },
  "pluginOptions": {
    "users-permissions": { "autoCreatedByAdmin": true }
  },
  "attributes": {
    "username":      { "type": "string", "minLength": 3, "required": true, "unique": true },
    "email":         { "type": "email",  "required": true, "unique": true },
    "password":      { "type": "password", "private": true },
    "inviteCode":    { "type": "string", "unique": true },
    "referredBy":    {
      "type": "relation",
      "relation": "manyToOne",
      "target": "plugin::users-permissions.user"
    },
    "referrals":     {
      "type": "relation",
      "relation": "oneToMany",
      "target": "plugin::users-permissions.user"
    }
  }
} 